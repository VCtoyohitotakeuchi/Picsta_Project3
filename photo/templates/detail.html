<!-- ベーステンプレートを適用する -->
{% extends 'base.html' %}
<!-- ヘッダー情報のページタイトルを設定する -->
{% block title %}Photo Detail{% endblock %}

    {% block contents %}
    <!-- Bootstrapのグリッドシステム -->
    <br>
    <div class="container">
        <!-- 行を配置-->
        <div class="row">
            <!--列の左右に余白ffset-3を入れる -->
            <div class="col offset-3">
                <!-- タイトル -->
                {% if object.title %}
                <h2>{{object.title}}</h2>
                {% endif %}
                <!-- コメント -->
                <p>{{object.comment}}</p>
                <!-- カテゴリー -->
                <a href="{% url 'photo:photos_cat' category=object.category.id %}">
                <p>#{{object.category}}</p>
                </a>
                <br>
                <!-- ユーザー名 -->
                <a href="{% url 'photo:user_list' user=object.user.id %}">
                <small class="text-muted">
                    {{object.user.username}}</small>
                </a>
                <!-- 投稿日時 -->
                <p>{{object.posted_at}}に投稿</p>
                <!-- 1枚目の写真 -->
                <p><img src="{{object.image1.url}}"></img></p>
                <!-- 2枚目の写真が投稿されていたら表示する -->
                {% if object.image2 %}
                    <p><img src="{{object.image2.url}}"></img></p>
                {% endif %}
                {% if object.mov1 %}
                <hr>
                <video src="{{object.mov1.url}}" controls>
                動画の再生にはHTML5が必要です。
                </video>
                {% endif %}

            

                <!-- 投稿写真がログイン中のユーザのものであれば削除ボタンを表示 -->
                {% if request.user == object.user %}
                <form method ="POST">
                <!-- リンク先のURL 
                    photo/<Photo postsテーブルのid値>/delete/-->
                <a href="{% url 'photo:photo_delete' object.pk %}"
                    class="btn btn-primary my-2">削除する</a>
                {% endif %}
            </div>
        </div>
    </div>
    {% endblock %}